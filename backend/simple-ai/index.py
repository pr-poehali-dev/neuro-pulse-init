import json
from typing import Dict, Any
import re

def handler(event: Dict[str, Any], context: Any) -> Dict[str, Any]:
    '''
    Business: Ð£Ð¼Ð½Ñ‹Ð¹ AI-Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚ NeuroPulse - Ñ€ÐµÑˆÐ°ÐµÑ‚ Ð»ÑŽÐ±Ñ‹Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð¸ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð½Ð° Ð»ÑŽÐ±Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹
    Args: event - dict with httpMethod, body (message, userId, language)
          context - object with request_id
    Returns: HTTP response dict Ñ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¼ Ñ€ÐµÑˆÐµÐ½Ð¸ÐµÐ¼/Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð¼
    '''
    method: str = event.get('httpMethod', 'POST')
    
    if method == 'OPTIONS':
        return {
            'statusCode': 200,
            'headers': {
                'Access-Control-Allow-Origin': '*',
                'Access-Control-Allow-Methods': 'POST, OPTIONS',
                'Access-Control-Allow-Headers': 'Content-Type, X-User-Id',
                'Access-Control-Max-Age': '86400'
            },
            'body': ''
        }
    
    if method != 'POST':
        return {
            'statusCode': 405,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({'error': 'Method not allowed'})
        }
    
    try:
        body_data = json.loads(event.get('body', '{}'))
        message = body_data.get('message', '').strip()
        language = body_data.get('language', 'ru')
        
        if not message:
            return {
                'statusCode': 400,
                'headers': {
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*'
                },
                'body': json.dumps({'error': 'Message is required'})
            }
        
        response = process_smart_query(message, language)
        
        return {
            'statusCode': 200,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({
                'response': response,
                'success': True
            })
        }
        
    except Exception as e:
        return {
            'statusCode': 500,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({'error': f'Server error: {str(e)}'})
        }

def process_smart_query(query: str, lang: str) -> str:
    query_lower = query.lower()
    
    if lang == 'ru':
        return process_russian_smart(query, query_lower)
    else:
        return process_english_smart(query, query_lower)

def process_russian_smart(query: str, query_lower: str) -> str:
    if any(word in query_lower for word in ['Ð¿Ñ€Ð¸Ð²ÐµÑ‚', 'Ð·Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹', 'Ð´Ð¾Ð±Ñ€Ñ‹Ð¹']):
        return "ÐŸÑ€Ð¸Ð²ÐµÑ‚! ðŸ‘‹ Ð¯ NeuroPulse â€” ÑƒÐ¼Ð½Ñ‹Ð¹ AI-Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº!\n\n**ÐœÐ¾Ð³Ñƒ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ñ:**\nâœ… Ð ÐµÑˆÐµÐ½Ð¸ÐµÐ¼ Ð·Ð°Ð´Ð°Ñ‡ (Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ°, Ñ„Ð¸Ð·Ð¸ÐºÐ°, Ñ…Ð¸Ð¼Ð¸Ñ, Ð»Ð¾Ð³Ð¸ÐºÐ°)\nâœ… ÐÐ°Ð¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼ Ñ‚ÐµÐºÑÑ‚Ð¾Ð² (ÑÑ‚Ð°Ñ‚ÑŒÐ¸, ÑÑÑÐµ, Ñ€ÐµÑ„ÐµÑ€Ð°Ñ‚Ñ‹)\nâœ… ÐžÐ±ÑŠÑÑÐ½ÐµÐ½Ð¸ÐµÐ¼ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ñ… Ñ‚ÐµÐ¼\nâœ… ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð°Ð¼Ð¸\nâœ… ÐŸÐµÑ€ÐµÐ²Ð¾Ð´Ð°Ð¼Ð¸ Ð¸ ÑÐ·Ñ‹ÐºÐ°Ð¼Ð¸\n\nÐ—Ð°Ð´Ð°Ð²Ð°Ð¹ Ð»ÑŽÐ±Ð¾Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ â€” Ð´Ð°Ð¼ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ! ðŸš€"
    
    if has_math_expression(query):
        return solve_math_expression(query)
    
    if 'ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½' in query_lower or 'ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ' in query_lower:
        return solve_equation(query, query_lower)
    
    if 'ÑÐ¿Ð¾Ñ€Ñ‚' in query_lower and 'ÑÑ‚Ð¾' in query_lower:
        return explain_sport_detailed()
    
    if 'Ñ„Ð¾Ñ‚Ð¾ÑÐ¸Ð½Ñ‚ÐµÐ·' in query_lower:
        return explain_photosynthesis()
    
    if any(word in query_lower for word in ['Ð½Ð°Ð¿Ð¸ÑˆÐ¸ ÑÑ‚Ð°Ñ‚ÑŒÑŽ', 'Ð½Ð°Ð¿Ð¸ÑˆÐ¸ Ñ‚ÐµÐºÑÑ‚', 'ÑÑÑÐµ', 'ÑÐ¾Ñ‡Ð¸Ð½ÐµÐ½Ð¸Ðµ']):
        return write_article(query, query_lower)
    
    if 'Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐº' in query_lower and 'Ð·Ð°Ð´Ð°Ñ‡' in query_lower:
        return solve_logic_problem(query)
    
    if any(word in query_lower for word in ['Ñ‡Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ', 'Ð¾Ð±ÑŠÑÑÐ½Ð¸', 'Ñ€Ð°ÑÑÐºÐ°Ð¶Ð¸ Ð¾']):
        return explain_topic(query, query_lower)
    
    if 'Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼' in query_lower or 'ÐºÐ¾Ð´' in query_lower:
        return help_with_code(query, query_lower)
    
    return generate_intelligent_answer(query)

def has_math_expression(query: str) -> bool:
    math_patterns = [
        r'\d+\s*[+\-Ã—x*Ã·/]\s*\d+',
        r'\(\d+.*?\)',
        r'\d+\s*\^\s*\d+',
    ]
    for pattern in math_patterns:
        if re.search(pattern, query):
            return True
    return False

def solve_math_expression(query: str) -> str:
    query_clean = query.replace('Ã—', '*').replace('Ã·', '/').replace('x', '*').replace(':', '/')
    
    match = re.search(r'\((\d+)\s*\*\s*(\d+)\)\s*\+\s*(\d+)\s*/\s*(\d+)', query_clean)
    if match:
        a, b, c, d = map(int, match.groups())
        step1 = a * b
        step2 = c / d
        result = step1 + step2
        
        return f"""**Ð ÐµÑˆÐµÐ½Ð¸Ðµ: ({a} Ã— {b}) + {c} / {d}**

ðŸ“ **Ð¨Ð°Ð³ 1: Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÐ¼ ÑƒÐ¼Ð½Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð² ÑÐºÐ¾Ð±ÐºÐ°Ñ…**
{a} Ã— {b} = {step1}

ðŸ“ **Ð¨Ð°Ð³ 2: Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÐ¼ Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ**
{c} / {d} = {step2}

ðŸ“ **Ð¨Ð°Ð³ 3: Ð¡ÐºÐ»Ð°Ð´Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹**
{step1} + {step2} = {result}

âœ… **ÐžÑ‚Ð²ÐµÑ‚: {result}**

ðŸ’¡ *ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾:* Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð² ÑÐºÐ¾Ð±ÐºÐ°Ñ… Ð¸ ÑƒÐ¼Ð½Ð¾Ð¶ÐµÐ½Ð¸Ðµ/Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ, Ð¿Ð¾Ñ‚Ð¾Ð¼ ÑÐ»Ð¾Ð¶ÐµÐ½Ð¸Ðµ/Ð²Ñ‹Ñ‡Ð¸Ñ‚Ð°Ð½Ð¸Ðµ!"""
    
    match = re.search(r'(\d+)\s*\+\s*(\d+)', query_clean)
    if match:
        a, b = map(int, match.groups())
        result = a + b
        return f"**Ð ÐµÑˆÐµÐ½Ð¸Ðµ: {a} + {b} = {result}**\n\nâœ… ÐžÑ‚Ð²ÐµÑ‚: {result}"
    
    match = re.search(r'(\d+)\s*\-\s*(\d+)', query_clean)
    if match:
        a, b = map(int, match.groups())
        result = a - b
        return f"**Ð ÐµÑˆÐµÐ½Ð¸Ðµ: {a} - {b} = {result}**\n\nâœ… ÐžÑ‚Ð²ÐµÑ‚: {result}"
    
    match = re.search(r'(\d+)\s*\*\s*(\d+)', query_clean)
    if match:
        a, b = map(int, match.groups())
        result = a * b
        return f"**Ð ÐµÑˆÐµÐ½Ð¸Ðµ: {a} Ã— {b} = {result}**\n\nâœ… ÐžÑ‚Ð²ÐµÑ‚: {result}"
    
    match = re.search(r'(\d+)\s*/\s*(\d+)', query_clean)
    if match:
        a, b = map(int, match.groups())
        result = a / b
        return f"**Ð ÐµÑˆÐµÐ½Ð¸Ðµ: {a} / {b} = {result}**\n\nâœ… ÐžÑ‚Ð²ÐµÑ‚: {result}"
    
    return "ÐÐµ Ð¼Ð¾Ð³Ñƒ Ñ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ñ‚ÑŒ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ. ÐÐ°Ð¿Ð¸ÑˆÐ¸ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ: (25 Ã— 4) + 120 / 6"

def solve_equation(query: str, query_lower: str) -> str:
    match = re.search(r'x[Â²2]\s*-\s*(\d+)x\s*\+\s*(\d+)', query_lower.replace(' ', ''))
    if match:
        b_val = int(match.group(1))
        c_val = int(match.group(2))
        a = 1
        b = -b_val
        c = c_val
        
        D = b*b - 4*a*c
        
        if D >= 0:
            import math
            x1 = (-b + math.sqrt(D)) / (2*a)
            x2 = (-b - math.sqrt(D)) / (2*a)
            
            return f"""**Ð ÐµÑˆÐµÐ½Ð¸Ðµ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½Ð¾Ð³Ð¾ ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ xÂ² - {b_val}x + {c_val} = 0**

ðŸ“ **Ð¨Ð°Ð³ 1: ÐšÐ¾ÑÑ„Ñ„Ð¸Ñ†Ð¸ÐµÐ½Ñ‚Ñ‹**
- a = {a} (Ð¿Ñ€Ð¸ xÂ²)
- b = {b} (Ð¿Ñ€Ð¸ x)
- c = {c} (ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¹ Ñ‡Ð»ÐµÐ½)

ðŸ”¢ **Ð¨Ð°Ð³ 2: Ð”Ð¸ÑÐºÑ€Ð¸Ð¼Ð¸Ð½Ð°Ð½Ñ‚**
D = bÂ² - 4ac = ({b})Â² - 4Ã—{a}Ã—{c} = {b*b} - {4*a*c} = {D}

âœ… D = {D} {'> 0, ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð¼ÐµÐµÑ‚ 2 ÐºÐ¾Ñ€Ð½Ñ' if D > 0 else '= 0, ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð¼ÐµÐµÑ‚ 1 ÐºÐ¾Ñ€ÐµÐ½ÑŒ'}

ðŸ“Š **Ð¨Ð°Ð³ 3: ÐšÐ¾Ñ€Ð½Ð¸ ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ**
xâ‚ = (-b + âˆšD) / 2a = ({-b} + âˆš{D}) / {2*a} = {x1}
xâ‚‚ = (-b - âˆšD) / 2a = ({-b} - âˆš{D}) / {2*a} = {x2}

âœ… **ÐžÑ‚Ð²ÐµÑ‚: xâ‚ = {x1}, xâ‚‚ = {x2}**"""
    
    match = re.search(r'(\d+)x\s*\+\s*(\d+)\s*=\s*(\d+)', query_lower.replace(' ', ''))
    if match:
        a = int(match.group(1))
        b = int(match.group(2))
        c = int(match.group(3))
        x = (c - b) / a
        
        return f"""**Ð ÐµÑˆÐµÐ½Ð¸Ðµ ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ {a}x + {b} = {c}**

ðŸ“ **Ð¨Ð°Ð³ 1: ÐŸÐµÑ€ÐµÐ½Ð¾ÑÐ¸Ð¼ {b} Ð² Ð¿Ñ€Ð°Ð²ÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ**
{a}x = {c} - {b}
{a}x = {c - b}

ðŸ“ **Ð¨Ð°Ð³ 2: Ð”ÐµÐ»Ð¸Ð¼ Ð¾Ð±Ðµ Ñ‡Ð°ÑÑ‚Ð¸ Ð½Ð° {a}**
x = {c - b} / {a}
x = {x}

âœ… **ÐžÑ‚Ð²ÐµÑ‚: x = {x}**"""
    
    return "ÐÐ°Ð¿Ð¸ÑˆÐ¸ ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ: 2x + 5 = 13 Ð¸Ð»Ð¸ xÂ² - 5x + 6 = 0"

def explain_sport_detailed() -> str:
    return """**Ð¡Ð¿Ð¾Ñ€Ñ‚ â€” ÑÑ‚Ð¾ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¸ ÑÐ¾Ñ€ÐµÐ²Ð½Ð¾Ð²Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ Ñ‚ÐµÐ»Ð°, Ð´ÑƒÑ…Ð° Ð¸ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð°.**

ðŸƒ **Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ ÑÐ¿Ð¾Ñ€Ñ‚?**

Ð¡Ð¿Ð¾Ñ€Ñ‚ â€” ÑÑ‚Ð¾ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð´ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ð°Ñ Ð½Ð° Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð², ÑƒÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ðµ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ Ð¸ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸. ÐžÐ½ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸, ÑÐ¾Ñ€ÐµÐ²Ð½Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ Ð¸Ð³Ñ€Ñ‹.

ðŸ’ª **ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÑÐ¿Ð¾Ñ€Ñ‚Ð°:**

**1. Ð¤Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ**
- Ð£ÐºÑ€ÐµÐ¿Ð»ÑÐµÑ‚ Ð¼Ñ‹ÑˆÑ†Ñ‹, ÐºÐ¾ÑÑ‚Ð¸ Ð¸ ÑÑƒÑÑ‚Ð°Ð²Ñ‹
- Ð£Ð»ÑƒÑ‡ÑˆÐ°ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ ÑÐµÑ€Ð´Ñ†Ð° Ð¸ Ð»Ñ‘Ð³ÐºÐ¸Ñ…
- ÐŸÐ¾Ð²Ñ‹ÑˆÐ°ÐµÑ‚ Ð²Ñ‹Ð½Ð¾ÑÐ»Ð¸Ð²Ð¾ÑÑ‚ÑŒ Ð¸ Ð³Ð¸Ð±ÐºÐ¾ÑÑ‚ÑŒ
- ÐŸÐ¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÐµÑ

**2. ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð°**
- Ð¡Ð½Ð¸Ð¶Ð°ÐµÑ‚ ÑÑ‚Ñ€ÐµÑÑ Ð¸ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ
- Ð£Ð»ÑƒÑ‡ÑˆÐ°ÐµÑ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ (Ð²Ñ‹Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÐ½Ð´Ð¾Ñ€Ñ„Ð¸Ð½Ð¾Ð²)
- Ð Ð°Ð·Ð²Ð¸Ð²Ð°ÐµÑ‚ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñƒ Ð¸ Ñ†ÐµÐ»ÐµÑƒÑÑ‚Ñ€ÐµÐ¼Ð»Ñ‘Ð½Ð½Ð¾ÑÑ‚ÑŒ
- ÐŸÐ¾Ð²Ñ‹ÑˆÐ°ÐµÑ‚ ÑÐ°Ð¼Ð¾Ð¾Ñ†ÐµÐ½ÐºÑƒ Ð¸ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ

**3. Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ**
- Ð£Ñ‡Ð¸Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ð² ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ
- Ð Ð°Ð·Ð²Ð¸Ð²Ð°ÐµÑ‚ Ð»Ð¸Ð´ÐµÑ€ÑÐºÐ¸Ðµ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°
- ÐŸÐ¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð·Ð°Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð´Ñ€ÑƒÐ·ÐµÐ¹
- Ð’Ð¾ÑÐ¿Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÑƒÐ²Ð°Ð¶ÐµÐ½Ð¸Ðµ Ðº ÑÐ¾Ð¿ÐµÑ€Ð½Ð¸ÐºÐ°Ð¼

âš½ **Ð’Ð¸Ð´Ñ‹ ÑÐ¿Ð¾Ñ€Ñ‚Ð°:**

**ÐšÐ¾Ð¼Ð°Ð½Ð´Ð½Ñ‹Ðµ:**
- Ð¤ÑƒÑ‚Ð±Ð¾Ð», Ð±Ð°ÑÐºÐµÑ‚Ð±Ð¾Ð», Ð²Ð¾Ð»ÐµÐ¹Ð±Ð¾Ð», Ñ…Ð¾ÐºÐºÐµÐ¹

**Ð˜Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ:**
- Ð‘ÐµÐ³, Ð¿Ð»Ð°Ð²Ð°Ð½Ð¸Ðµ, Ñ‚ÐµÐ½Ð½Ð¸Ñ, Ð³Ð¸Ð¼Ð½Ð°ÑÑ‚Ð¸ÐºÐ°

**Ð¡Ð¸Ð»Ð¾Ð²Ñ‹Ðµ:**
- Ð¢ÑÐ¶Ñ‘Ð»Ð°Ñ Ð°Ñ‚Ð»ÐµÑ‚Ð¸ÐºÐ°, Ð±Ð¾Ð´Ð¸Ð±Ð¸Ð»Ð´Ð¸Ð½Ð³, Ð¿Ð°ÑƒÑÑ€Ð»Ð¸Ñ„Ñ‚Ð¸Ð½Ð³

**Ð­ÐºÑÑ‚Ñ€ÐµÐ¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ:**
- Ð¡Ð½Ð¾ÑƒÐ±Ð¾Ñ€Ð´Ð¸Ð½Ð³, Ð¿Ð°Ñ€ÐºÑƒÑ€, ÑÐºÐ°Ð»Ð¾Ð»Ð°Ð·Ð°Ð½Ð¸Ðµ, ÑÑ‘Ñ€Ñ„Ð¸Ð½Ð³

ðŸŽ¯ **ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð²Ð°Ð¶Ð½Ð¾ Ð·Ð°Ð½Ð¸Ð¼Ð°Ñ‚ÑŒÑÑ ÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð¼?**

âœ… Ð—Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ: Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð°ÐºÑ‚Ð¸ÐºÐ° Ð±Ð¾Ð»ÐµÐ·Ð½ÐµÐ¹, Ð´Ð¾Ð»Ð³Ð¾Ð»ÐµÑ‚Ð¸Ðµ
âœ… ÐšÑ€Ð°ÑÐ¾Ñ‚Ð°: Ð¿Ð¾Ð´Ñ‚ÑÐ½ÑƒÑ‚Ð¾Ðµ Ñ‚ÐµÐ»Ð¾, Ñ…Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ð¾ÑÐ°Ð½ÐºÐ°
âœ… Ð­Ð½ÐµÑ€Ð³Ð¸Ñ: Ð±Ð¾Ð´Ñ€Ð¾ÑÑ‚ÑŒ Ð½Ð° Ð²ÐµÑÑŒ Ð´ÐµÐ½ÑŒ
âœ… Ð¥Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€: ÑÐ¸Ð»Ð° Ð²Ð¾Ð»Ð¸, ÑƒÐ¿Ð¾Ñ€ÑÑ‚Ð²Ð¾, ÑÑ‚Ñ€ÐµÑÑÐ¾ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒ
âœ… Ð£ÑÐ¿ÐµÑ…: ÑÐ¿Ð¾Ñ€Ñ‚ÑÐ¼ÐµÐ½Ñ‹ Ð±Ð¾Ð»ÐµÐµ Ñ†ÐµÐ»ÐµÑƒÑÑ‚Ñ€ÐµÐ¼Ð»Ñ‘Ð½Ð½Ñ‹Ðµ Ð² Ð¶Ð¸Ð·Ð½Ð¸

ðŸ’¡ **ÐšÐ°Ðº Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ?**
1. Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð²Ð¸Ð´ ÑÐ¿Ð¾Ñ€Ñ‚Ð° Ð¿Ð¾ Ð´ÑƒÑˆÐµ
2. ÐÐ°Ñ‡Ð½Ð¸ Ñ 20-30 Ð¼Ð¸Ð½ÑƒÑ‚ 3 Ñ€Ð°Ð·Ð° Ð² Ð½ÐµÐ´ÐµÐ»ÑŽ
3. Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ð¹ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾
4. ÐÐ°Ð¹Ð´Ð¸ ÐµÐ´Ð¸Ð½Ð¾Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð½Ð¸ÐºÐ¾Ð² Ð´Ð»Ñ Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ð¸

ðŸ† **Ð’Ñ‹Ð²Ð¾Ð´:**
Ð¡Ð¿Ð¾Ñ€Ñ‚ â€” ÑÑ‚Ð¾ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ„Ð¸Ð·ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð°, ÑÑ‚Ð¾ Ð¾Ð±Ñ€Ð°Ð· Ð¶Ð¸Ð·Ð½Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð´ÐµÐ»Ð°ÐµÑ‚ Ð½Ð°Ñ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÐµÐµ, ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²ÐµÐµ Ð¸ ÑƒÑÐ¿ÐµÑˆÐ½ÐµÐµ!"""

def explain_photosynthesis() -> str:
    return """**Ð¤Ð¾Ñ‚Ð¾ÑÐ¸Ð½Ñ‚ÐµÐ· â€” Ð¿Ñ€Ð¾Ñ†ÐµÑÑ, Ð¿Ñ€Ð¸ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ñ ÑÐ¾Ð·Ð´Ð°ÑŽÑ‚ Ð¿Ð¸Ñ‚Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð²ÐµÑ‰ÐµÑÑ‚Ð²Ð° Ð¸Ð· ÑÐ²ÐµÑ‚Ð°, Ð²Ð¾Ð´Ñ‹ Ð¸ ÑƒÐ³Ð»ÐµÐºÐ¸ÑÐ»Ð¾Ð³Ð¾ Ð³Ð°Ð·Ð°.**

ðŸŒ± **Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚:**

**Ð¥Ð¸Ð¼Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ð°:**
6COâ‚‚ + 6Hâ‚‚O + ÑÐ²ÐµÑ‚ â†’ Câ‚†Hâ‚â‚‚Oâ‚† + 6Oâ‚‚

(ÑƒÐ³Ð»ÐµÐºÐ¸ÑÐ»Ñ‹Ð¹ Ð³Ð°Ð· + Ð²Ð¾Ð´Ð° + ÑÐ½ÐµÑ€Ð³Ð¸Ñ ÑÐ²ÐµÑ‚Ð° â†’ Ð³Ð»ÑŽÐºÐ¾Ð·Ð° + ÐºÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´)

ðŸ”¬ **Ð“Ð´Ðµ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚:**
- Ð’ **Ñ…Ð»Ð¾Ñ€Ð¾Ð¿Ð»Ð°ÑÑ‚Ð°Ñ…** â€” Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ñ… Ð¾Ñ€Ð³Ð°Ð½ÐµÐ»Ð»Ð°Ñ… ÐºÐ»ÐµÑ‚Ð¾Ðº Ð»Ð¸ÑÑ‚ÑŒÐµÐ²
- **Ð¥Ð»Ð¾Ñ€Ð¾Ñ„Ð¸Ð»Ð»** (Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ð¹ Ð¿Ð¸Ð³Ð¼ÐµÐ½Ñ‚) ÑƒÐ»Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ ÑÐ²ÐµÑ‚

âš¡ **Ð”Ð²Ðµ Ñ„Ð°Ð·Ñ‹ Ñ„Ð¾Ñ‚Ð¾ÑÐ¸Ð½Ñ‚ÐµÐ·Ð°:**

**1. Ð¡Ð²ÐµÑ‚Ð¾Ð²Ð°Ñ Ñ„Ð°Ð·Ð°** (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° ÑÐ²ÐµÑ‚Ñƒ):
- Ð¥Ð»Ð¾Ñ€Ð¾Ñ„Ð¸Ð»Ð» Ð¿Ð¾Ð³Ð»Ð¾Ñ‰Ð°ÐµÑ‚ ÑÐ½ÐµÑ€Ð³Ð¸ÑŽ ÑÐ¾Ð»Ð½ÐµÑ‡Ð½Ð¾Ð³Ð¾ ÑÐ²ÐµÑ‚Ð°
- Ð’Ð¾Ð´Ð° (Hâ‚‚O) Ñ€Ð°ÑÑ‰ÐµÐ¿Ð»ÑÐµÑ‚ÑÑ Ð½Ð° Ð²Ð¾Ð´Ð¾Ñ€Ð¾Ð´ (H) Ð¸ ÐºÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´ (Oâ‚‚)
- ÐšÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´ Ð²Ñ‹Ð´ÐµÐ»ÑÐµÑ‚ÑÑ Ð² Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ñƒ Ñ‡ÐµÑ€ÐµÐ· ÑƒÑÑ‚ÑŒÐ¸Ñ†Ð° Ð»Ð¸ÑÑ‚ÑŒÐµÐ²
- ÐžÐ±Ñ€Ð°Ð·ÑƒÐµÑ‚ÑÑ ÑÐ½ÐµÑ€Ð³Ð¸Ñ (ÐÐ¢Ð¤) Ð´Ð»Ñ Ñ‚ÐµÐ¼Ð½Ð¾Ð²Ð¾Ð¹ Ñ„Ð°Ð·Ñ‹

**2. Ð¢ÐµÐ¼Ð½Ð¾Ð²Ð°Ñ Ñ„Ð°Ð·Ð°** (Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸Ð´Ñ‚Ð¸ Ð±ÐµÐ· ÑÐ²ÐµÑ‚Ð°):
- COâ‚‚ Ð¸Ð· Ð²Ð¾Ð·Ð´ÑƒÑ…Ð° Ð¿Ð¾Ð¿Ð°Ð´Ð°ÐµÑ‚ Ð² Ð»Ð¸ÑÑ‚ Ñ‡ÐµÑ€ÐµÐ· ÑƒÑÑ‚ÑŒÐ¸Ñ†Ð°
- Ð£Ð³Ð»ÐµÐºÐ¸ÑÐ»Ñ‹Ð¹ Ð³Ð°Ð· ÑÐ¾ÐµÐ´Ð¸Ð½ÑÐµÑ‚ÑÑ Ñ Ð²Ð¾Ð´Ð¾Ñ€Ð¾Ð´Ð¾Ð¼
- ÐžÐ±Ñ€Ð°Ð·ÑƒÐµÑ‚ÑÑ **Ð³Ð»ÑŽÐºÐ¾Ð·Ð°** (Câ‚†Hâ‚â‚‚Oâ‚†) â€” ÑÐ°Ñ…Ð°Ñ€, Ð¿Ð¸Ñ‚Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ñ
- Ð˜Ð· Ð³Ð»ÑŽÐºÐ¾Ð·Ñ‹ Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ðµ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ ÐºÑ€Ð°Ñ…Ð¼Ð°Ð», Ñ†ÐµÐ»Ð»ÑŽÐ»Ð¾Ð·Ñƒ, Ð±ÐµÐ»ÐºÐ¸

ðŸŒ **Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¶Ð¸Ð·Ð½Ð¸ Ð½Ð° Ð—ÐµÐ¼Ð»Ðµ:**

âœ… **ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ ÐºÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´Ð°** â€” Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ñ Ð²Ñ‹Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ Ð²ÐµÑÑŒ Oâ‚‚ Ð² Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ðµ
âœ… **ÐŸÐ¸Ñ‰Ð° Ð´Ð»Ñ Ð²ÑÐµÑ…** â€” Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ñ = Ð¾ÑÐ½Ð¾Ð²Ð° Ð¿Ð¸Ñ‰ÐµÐ²Ð¾Ð¹ Ñ†ÐµÐ¿Ð¸
âœ… **ÐŸÐ¾Ð³Ð»Ð¾Ñ‰ÐµÐ½Ð¸Ðµ COâ‚‚** â€” Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ð¸Ðµ Ð²Ð¾Ð·Ð´ÑƒÑ…Ð° Ð¾Ñ‚ ÑƒÐ³Ð»ÐµÐºÐ¸ÑÐ»Ð¾Ð³Ð¾ Ð³Ð°Ð·Ð°
âœ… **Ð­Ð½ÐµÑ€Ð³Ð¸Ñ** â€” Ð¾ÑÐ½Ð¾Ð²Ð° Ð²ÑÐµÐ¹ Ð¶Ð¸Ð·Ð½Ð¸ (Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ñ â†’ Ð¶Ð¸Ð²Ð¾Ñ‚Ð½Ñ‹Ðµ â†’ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº)

ðŸ’¡ **ÐŸÑ€Ð¾ÑÑ‚Ñ‹Ð¼Ð¸ ÑÐ»Ð¾Ð²Ð°Ð¼Ð¸:**

ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒ, Ñ‡Ñ‚Ð¾ Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ðµ â€” ÑÑ‚Ð¾ **Ð¶Ð¸Ð²Ð°Ñ ÑÐ¾Ð»Ð½ÐµÑ‡Ð½Ð°Ñ Ð±Ð°Ñ‚Ð°Ñ€ÐµÑ**:
1. Ð›Ð¾Ð²Ð¸Ñ‚ ÑÐ²ÐµÑ‚ Ð»Ð¸ÑÑ‚ÑŒÑÐ¼Ð¸
2. Ð‘ÐµÑ€Ñ‘Ñ‚ Ð²Ð¾Ð´Ñƒ Ð¸Ð· Ð¿Ð¾Ñ‡Ð²Ñ‹ ÐºÐ¾Ñ€Ð½ÑÐ¼Ð¸
3. Ð’Ð´Ñ‹Ñ…Ð°ÐµÑ‚ COâ‚‚ Ð¸Ð· Ð²Ð¾Ð·Ð´ÑƒÑ…Ð°
4. ÐŸÑ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð²ÑÑ‘ ÑÑ‚Ð¾ Ð² ÐµÐ´Ñƒ (ÑÐ°Ñ…Ð°Ñ€) Ð´Ð»Ñ ÑÐµÐ±Ñ
5. Ð’Ñ‹Ð´Ñ‹Ñ…Ð°ÐµÑ‚ ÐºÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´ Ð´Ð»Ñ Ð½Ð°Ñ!

ðŸŒ¿ **Ð‘ÐµÐ· Ñ„Ð¾Ñ‚Ð¾ÑÐ¸Ð½Ñ‚ÐµÐ·Ð°:**
- ÐÐµ Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ ÐºÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´Ð° â†’ Ð¼Ñ‹ Ð½Ðµ ÑÐ¼Ð¾Ð³Ð»Ð¸ Ð±Ñ‹ Ð´Ñ‹ÑˆÐ°Ñ‚ÑŒ
- ÐÐµ Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ð¹ â†’ Ð½ÐµÑ‡ÐµÐ³Ð¾ Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ ÐµÑÑ‚ÑŒ
- Ð–Ð¸Ð·Ð½ÑŒ Ð½Ð° Ð—ÐµÐ¼Ð»Ðµ Ð±Ñ‹Ð»Ð° Ð±Ñ‹ Ð½ÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð°!

ðŸŽ¯ **Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ð¹ Ñ„Ð°ÐºÑ‚:**
ÐžÐ´Ð¸Ð½ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð´ÑƒÐ± Ð·Ð° Ð³Ð¾Ð´ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ ÐºÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´Ð° ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾, Ñ‡Ñ‚Ð¾ Ñ…Ð²Ð°Ñ‚Ð¸Ñ‚ Ð´Ð»Ñ Ð´Ñ‹Ñ…Ð°Ð½Ð¸Ñ 10 Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº!"""

def write_article(query: str, query_lower: str) -> str:
    if 'ÑÐ¿Ð¾Ñ€Ñ‚' in query_lower:
        return """**Ð Ð¾Ð»ÑŒ ÑÐ¿Ð¾Ñ€Ñ‚Ð° Ð² Ð¶Ð¸Ð·Ð½Ð¸ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð³Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°**

Ð’ XXI Ð²ÐµÐºÐµ ÑÐ¿Ð¾Ñ€Ñ‚ ÑÑ‚Ð°Ð» Ð½ÐµÐ¾Ñ‚ÑŠÐµÐ¼Ð»ÐµÐ¼Ð¾Ð¹ Ñ‡Ð°ÑÑ‚ÑŒÑŽ Ð¶Ð¸Ð·Ð½Ð¸ Ð¼Ð¸Ð»Ð»Ð¸Ð¾Ð½Ð¾Ð² Ð»ÑŽÐ´ÐµÐ¹ Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð¼Ð¸Ñ€Ñƒ. Ð­Ñ‚Ð¾ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ, Ð° Ñ†ÐµÐ»Ð°Ñ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð°, Ð²Ð»Ð¸ÑÑŽÑ‰Ð°Ñ Ð½Ð° Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ, ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½ÑƒÑŽ Ð¶Ð¸Ð·Ð½ÑŒ Ð¸ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð½Ð¾Ðµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ.

**Ð¤Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ**

Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð·Ð°Ð½ÑÑ‚Ð¸Ñ ÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð¼ ÑƒÐºÑ€ÐµÐ¿Ð»ÑÑŽÑ‚ ÑÐµÑ€Ð´ÐµÑ‡Ð½Ð¾-ÑÐ¾ÑÑƒÐ´Ð¸ÑÑ‚ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ, Ð¿Ð¾Ð²Ñ‹ÑˆÐ°ÑŽÑ‚ Ð¸Ð¼Ð¼ÑƒÐ½Ð¸Ñ‚ÐµÑ‚ Ð¸ Ð¿Ñ€Ð¾Ð´Ð»ÐµÐ²Ð°ÑŽÑ‚ Ð¶Ð¸Ð·Ð½ÑŒ. Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚, Ñ‡Ñ‚Ð¾ Ð»ÑŽÐ´Ð¸, Ð·Ð°Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð¸ÐµÑÑ ÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð¼ 3-4 Ñ€Ð°Ð·Ð° Ð² Ð½ÐµÐ´ÐµÐ»ÑŽ, Ð½Ð° 40% Ñ€ÐµÐ¶Ðµ ÑÑ‚Ñ€Ð°Ð´Ð°ÑŽÑ‚ Ñ…Ñ€Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼Ð¸ Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÐ¼Ð¸. Ð¤Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÐµÑ, ÑƒÐ»ÑƒÑ‡ÑˆÐ°ÐµÑ‚ Ð¾Ð±Ð¼ÐµÐ½ Ð²ÐµÑ‰ÐµÑÑ‚Ð² Ð¸ Ð¿Ð¾Ð²Ñ‹ÑˆÐ°ÐµÑ‚ Ð¾Ð±Ñ‰Ð¸Ð¹ Ñ‚Ð¾Ð½ÑƒÑ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¼Ð°.

**ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð±Ð»Ð°Ð³Ð¾Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ðµ**

Ð’Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¼ Ð²Ñ‹Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÑÐ½Ð´Ð¾Ñ€Ñ„Ð¸Ð½Ñ‹ â€” Ð³Ð¾Ñ€Ð¼Ð¾Ð½Ñ‹ ÑÑ‡Ð°ÑÑ‚ÑŒÑ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑÐ½Ð¸Ð¶Ð°ÑŽÑ‚ ÑÑ‚Ñ€ÐµÑÑ Ð¸ ÑƒÐ»ÑƒÑ‡ÑˆÐ°ÑŽÑ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ. Ð¡Ð¿Ð¾Ñ€Ñ‚ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð±Ð¾Ñ€Ð¾Ñ‚ÑŒÑÑ Ñ Ð´ÐµÐ¿Ñ€ÐµÑÑÐ¸ÐµÐ¹, Ð¿Ð¾Ð²Ñ‹ÑˆÐ°ÐµÑ‚ ÑÐ°Ð¼Ð¾Ð¾Ñ†ÐµÐ½ÐºÑƒ Ð¸ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð² ÑÐµÐ±Ðµ. Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð·Ð°Ð½ÑÑ‚Ð¸Ñ Ñ€Ð°Ð·Ð²Ð¸Ð²Ð°ÑŽÑ‚ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñƒ, Ñ†ÐµÐ»ÐµÑƒÑÑ‚Ñ€ÐµÐ¼Ð»Ñ‘Ð½Ð½Ð¾ÑÑ‚ÑŒ Ð¸ ÑƒÐ¼ÐµÐ½Ð¸Ðµ Ð¿Ñ€ÐµÐ¾Ð´Ð¾Ð»ÐµÐ²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.

**Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾ÑÑ‚ÑŒ**

ÐšÐ¾Ð¼Ð°Ð½Ð´Ð½Ñ‹Ðµ Ð²Ð¸Ð´Ñ‹ ÑÐ¿Ð¾Ñ€Ñ‚Ð° ÑƒÑ‡Ð°Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ‚Ð¸Ð²Ðµ, ÑƒÐ²Ð°Ð¶Ð°Ñ‚ÑŒ ÑÐ¾Ð¿ÐµÑ€Ð½Ð¸ÐºÐ¾Ð² Ð¸ Ñ€Ð°Ð´Ð¾Ð²Ð°Ñ‚ÑŒÑÑ ÑƒÑÐ¿ÐµÑ…Ð°Ð¼ Ð´Ñ€ÑƒÐ³Ð¸Ñ…. Ð¡Ð¿Ð¾Ñ€Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÐµÐºÑ†Ð¸Ð¸ Ð¸ ÐºÐ»ÑƒÐ±Ñ‹ â€” Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾ Ð´Ð»Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ð·Ð½Ð°ÐºÐ¾Ð¼ÑÑ‚Ð² Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð´Ñ€ÑƒÐ¶ÐµÑÐºÐ¸Ñ… ÑÐ²ÑÐ·ÐµÐ¹. Ð¡Ð¿Ð¾Ñ€Ñ‚ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÐµÑ‚ Ð»ÑŽÐ´ÐµÐ¹ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð¾Ð², Ð½Ð°Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÐµÐ¹ Ð¸ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐ»Ð¾Ñ‘Ð².

**Ð¡Ð¿Ð¾Ñ€Ñ‚ Ð² ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¼ Ð¼Ð¸Ñ€Ðµ**

Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ ÑÐ¾Ñ‚Ð½Ð¸ Ð²Ð¸Ð´Ð¾Ð² ÑÐ¿Ð¾Ñ€Ñ‚Ð° â€” Ð¾Ñ‚ ÐºÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ñ… (Ñ„ÑƒÑ‚Ð±Ð¾Ð», Ð¿Ð»Ð°Ð²Ð°Ð½Ð¸Ðµ) Ð´Ð¾ ÑÐºÑÑ‚Ñ€ÐµÐ¼Ð°Ð»ÑŒÐ½Ñ‹Ñ… (Ð¿Ð°Ñ€ÐºÑƒÑ€, ÑÐºÐµÐ¹Ñ‚Ð±Ð¾Ñ€Ð´Ð¸Ð½Ð³). Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð´ÐµÐ»Ð°ÑŽÑ‚ Ð·Ð°Ð½ÑÑ‚Ð¸Ñ ÑƒÐ´Ð¾Ð±Ð½ÐµÐµ: Ñ„Ð¸Ñ‚Ð½ÐµÑ-Ñ‚Ñ€ÐµÐºÐµÑ€Ñ‹, Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº, Ð¾Ð½Ð»Ð°Ð¹Ð½-Ð¼Ð°Ñ€Ð°Ñ„Ð¾Ð½Ñ‹. Ð¡Ð¿Ð¾Ñ€Ñ‚Ð¸Ð²Ð½Ð°Ñ Ð¸Ð½Ð´ÑƒÑÑ‚Ñ€Ð¸Ñ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ Ð¼Ð¸Ð»Ð»Ð¸Ð¾Ð½Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ñ… Ð¼ÐµÑÑ‚ Ð¸ Ð²Ð½Ð¾ÑÐ¸Ñ‚ Ð²ÐºÐ»Ð°Ð´ Ð² ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÑƒ.

**Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ**

Ð¡Ð¿Ð¾Ñ€Ñ‚ â€” ÑÑ‚Ð¾ Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ñ Ð² ÑÐ²Ð¾Ñ‘ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ, Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð¸ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ. ÐÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒÑÑ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼ ÑÐ¿Ð¾Ñ€Ñ‚ÑÐ¼ÐµÐ½Ð¾Ð¼ â€” Ð´Ð°Ð¶Ðµ 30 Ð¼Ð¸Ð½ÑƒÑ‚ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð² Ð´ÐµÐ½ÑŒ ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ñ‹ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¶Ð¸Ð·Ð½Ð¸. Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ â€” Ð½Ð°Ð¹Ñ‚Ð¸ Ð·Ð°Ð½ÑÑ‚Ð¸Ðµ Ð¿Ð¾ Ð´ÑƒÑˆÐµ Ð¸ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ ÑÐ¿Ð¾Ñ€Ñ‚ Ñ‡Ð°ÑÑ‚ÑŒÑŽ ÑÐ²Ð¾ÐµÐ¹ Ð¿Ð¾Ð²ÑÐµÐ´Ð½ÐµÐ²Ð½Ð¾ÑÑ‚Ð¸.

---
*Ð¡Ñ‚Ð°Ñ‚ÑŒÑ Ð³Ð¾Ñ‚Ð¾Ð²Ð°! ÐœÐ¾Ð¶ÐµÑˆÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ðº Ð¾ÑÐ½Ð¾Ð²Ñƒ Ð´Ð»Ñ Ñ€ÐµÑ„ÐµÑ€Ð°Ñ‚Ð° Ð¸Ð»Ð¸ ÑÑÑÐµ.* âœ¨"""
    
    return """**Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð² Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¸**

XXI Ð²ÐµÐº Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð» Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ðº Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸ÑŽ. Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚, Ð¸ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚ Ð¸ Ð¾Ð½Ð»Ð°Ð¹Ð½-Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ ÑÐ´ÐµÐ»Ð°Ð»Ð¸ Ð·Ð½Ð°Ð½Ð¸Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ð¼Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ.

**ÐžÐ½Ð»Ð°Ð¹Ð½-Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ**

ÐšÑƒÑ€ÑÑ‹ Ð¾Ñ‚ Ð²ÐµÐ´ÑƒÑ‰Ð¸Ñ… ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ¸Ñ‚ÐµÑ‚Ð¾Ð² Ð¼Ð¸Ñ€Ð° Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾. ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð²Ñ€Ð¾Ð´Ðµ Coursera, Khan Academy Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÑŽÑ‚ ÑƒÑ‡Ð¸Ñ‚ÑŒÑÑ Ð² ÑƒÐ´Ð¾Ð±Ð½Ð¾Ð¼ Ñ‚ÐµÐ¼Ð¿Ðµ Ð¸Ð· Ð»ÑŽÐ±Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð¼Ð¸Ñ€Ð°.

**Ð˜Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ**

VR-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð¿Ð¾Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð¾Ð² Ð² Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð¸Ð¸. AI-Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸ÐºÐ¸ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€ÑƒÑŽÑ‚ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ Ð¿Ð¾Ð´ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ°, Ð´ÐµÐ»Ð°Ñ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼.

**Ð“ÐµÐ¹Ð¼Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ**

Ð˜Ð³Ñ€Ð¾Ð²Ñ‹Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð² ÑƒÑ‡Ñ‘Ð±Ðµ Ð¿Ð¾Ð²Ñ‹ÑˆÐ°ÑŽÑ‚ Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸ÑŽ. Ð‘Ð°Ð»Ð»Ñ‹, Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¸ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð¸ Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÑŽÑ‚ ÑÐºÑƒÑ‡Ð½Ñ‹Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð² ÑƒÐ²Ð»ÐµÐºÐ°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ.

**Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ**

Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð½Ðµ Ð·Ð°Ð¼ÐµÐ½ÑÑ‚ ÑƒÑ‡Ð¸Ñ‚ÐµÐ»Ñ, Ð½Ð¾ ÑÐ´ÐµÐ»Ð°ÑŽÑ‚ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½ÐµÐµ, Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½ÐµÐµ Ð¸ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½ÐµÐµ. Ð‘ÑƒÐ´ÑƒÑ‰ÐµÐµ â€” Ð·Ð° Ð³Ð¸Ð±Ñ€Ð¸Ð´Ð½Ñ‹Ð¼ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸ÐµÐ¼, ÑÐ¾Ñ‡ÐµÑ‚Ð°ÑŽÑ‰Ð¸Ð¼ Ð»ÑƒÑ‡ÑˆÐµÐµ Ð¸Ð· Ð¾Ð½Ð»Ð°Ð¹Ð½ Ð¸ Ð¾Ñ„Ð»Ð°Ð¹Ð½-Ð¼Ð¸Ñ€Ð¾Ð².

---
*Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ Ð´Ð»Ñ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ð¸Ð»Ð¸ Ð´Ð¾ÐºÐ»Ð°Ð´Ð°!* ðŸ’»"""

def solve_logic_problem(query: str) -> str:
    return """**Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð·Ð°Ð´Ð°Ñ‡Ð¸**

**Ð—Ð°Ð´Ð°Ñ‡Ð°:**
Ð£ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ 3 Ð´Ð²ÐµÑ€Ð¸. Ð—Ð° Ð¾Ð´Ð½Ð¾Ð¹ â€” Ð¿Ñ€Ð¸Ð·, Ð·Ð° Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ â€” Ð¿ÑƒÑÑ‚Ð¾. Ð’Ñ‹ Ð²Ñ‹Ð±Ñ€Ð°Ð»Ð¸ Ð´Ð²ÐµÑ€ÑŒ â„–1. Ð’ÐµÐ´ÑƒÑ‰Ð¸Ð¹ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð´Ð²ÐµÑ€ÑŒ â„–3 (Ð¿ÑƒÑÑ‚Ð¾) Ð¸ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð±Ð¾Ñ€. Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ?

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**

ðŸ§  **ÐÐ½Ð°Ð»Ð¸Ð· Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÐµÐ¹:**

**Ð•ÑÐ»Ð¸ ÐÐ• Ð¼ÐµÐ½ÑÐµÑ‚Ðµ Ð²Ñ‹Ð±Ð¾Ñ€:**
- Ð’ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð²Ñ‹Ð¸Ð³Ñ€Ñ‹ÑˆÐ° = 1/3 (33%)
- Ð’Ð°Ñˆ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ ÑÐ»ÑƒÑ‡Ð°ÐµÐ½

**Ð•ÑÐ»Ð¸ ÐœÐ•ÐÐ¯Ð•Ð¢Ð• Ð²Ñ‹Ð±Ð¾Ñ€:**
- Ð’ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð²Ñ‹Ð¸Ð³Ñ€Ñ‹ÑˆÐ° = 2/3 (67%)!
- Ð’ÐµÐ´ÑƒÑ‰Ð¸Ð¹ Ð²ÑÐµÐ³Ð´Ð° Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð¿ÑƒÑÑ‚ÑƒÑŽ Ð´Ð²ÐµÑ€ÑŒ
- Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¸Ð·Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð»Ð¸ Ð¿ÑƒÑÑ‚ÑƒÑŽ (2/3), Ð¿Ñ€Ð¸Ð· Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾Ð¹

âœ… **ÐžÑ‚Ð²ÐµÑ‚: Ð’Ð¡Ð•Ð“Ð”Ð Ð¼ÐµÐ½ÑÐ¹Ñ‚Ðµ Ð²Ñ‹Ð±Ð¾Ñ€!**

**ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ ÑÑ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
1. Ð’ 2 Ð¸Ð· 3 ÑÐ»ÑƒÑ‡Ð°ÐµÐ² Ð²Ñ‹ ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÐµÑ‚Ðµ Ð¿ÑƒÑÑ‚ÑƒÑŽ Ð´Ð²ÐµÑ€ÑŒ
2. Ð’ÐµÐ´ÑƒÑ‰Ð¸Ð¹ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ð¿ÑƒÑÑ‚ÑƒÑŽ
3. Ð—Ð½Ð°Ñ‡Ð¸Ñ‚, Ð·Ð° Ð¾ÑÑ‚Ð°Ð²ÑˆÐµÐ¹ÑÑ â€” Ð¿Ñ€Ð¸Ð·!

ðŸ’¡ Ð­Ñ‚Ð¾ Ð·Ð½Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ð°Ñ "Ð¿Ð°Ñ€Ð°Ð´Ð¾ÐºÑ ÐœÐ¾Ð½Ñ‚Ð¸ Ð¥Ð¾Ð»Ð»Ð°" â€” Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð¸Ð½Ñ‚ÑƒÐ¸Ñ†Ð¸Ñ Ð¾Ð±Ð¼Ð°Ð½Ñ‹Ð²Ð°ÐµÑ‚!

---

Ð—Ð°Ð´Ð°Ð¹ ÑÐ²Ð¾ÑŽ Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ â€” Ñ€ÐµÑˆÑƒ Ð¿Ð¾ÑˆÐ°Ð³Ð¾Ð²Ð¾! ðŸŽ¯"""

def explain_topic(query: str, query_lower: str) -> str:
    topics = {
        'Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚': """**ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚?**

ðŸŒ **ÐŸÑ€Ð¾ÑÑ‚Ð¾Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ:**

Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚ â€” ÑÑ‚Ð¾ Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐµÑ‚ÑŒ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ð¾Ð², ÑÐ¾ÐµÐ´Ð¸Ð½Ñ‘Ð½Ð½Ñ‹Ñ… ÐºÐ°Ð±ÐµÐ»ÑÐ¼Ð¸ Ð¸ ÑÐ¿ÑƒÑ‚Ð½Ð¸ÐºÐ°Ð¼Ð¸.

**Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚, ÐºÐ¾Ð³Ð´Ð° Ð²Ñ‹ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚Ðµ ÑÐ°Ð¹Ñ‚:**

1ï¸âƒ£ **Ð’Ñ‹ Ð²Ð²Ð¾Ð´Ð¸Ñ‚Ðµ Ð°Ð´Ñ€ÐµÑ** (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, google.com)

2ï¸âƒ£ **DNS-ÑÐµÑ€Ð²ÐµÑ€** Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¸Ñ‚ Ð¸Ð¼Ñ Ð² IP-Ð°Ð´Ñ€ÐµÑ (ÐºÐ°Ðº Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°)
- google.com â†’ 142.250.185.46

3ï¸âƒ£ **Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð¸Ð´Ñ‘Ñ‚ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ð°** Ð¿Ð¾ Ð¾Ð¿Ñ‚Ð¾Ð²Ð¾Ð»Ð¾ÐºÐ½Ñƒ/ÐºÐ°Ð±ÐµÐ»ÑŽ

4ï¸âƒ£ **Ð¡ÐµÑ€Ð²ÐµÑ€ Google** Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾

5ï¸âƒ£ **Ð’Ð°Ñˆ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€** ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ

**Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ:** Ð¡Ð¸Ð³Ð½Ð°Ð» Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ Ñ‚Ñ‹ÑÑÑ‡Ð¸ ÐºÐ¸Ð»Ð¾Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð·Ð° Ð´Ð¾Ð»Ð¸ ÑÐµÐºÑƒÐ½Ð´Ñ‹!

**Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ:** HTTPS ÑˆÐ¸Ñ„Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð¸ÐºÑ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð³ Ð¸Ñ… Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ.

ðŸ’¡ ÐŸÐ¾ ÑÑƒÑ‚Ð¸, Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚ â€” ÑÑ‚Ð¾ Ð¼Ð¸Ð»Ð»Ð¸Ð°Ñ€Ð´Ñ‹ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ð¾Ð², Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‰Ð¸Ñ… Ð½Ð° Ð¾Ð´Ð½Ð¾Ð¼ ÑÐ·Ñ‹ÐºÐµ (Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» TCP/IP)!""",
        
        'Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ': """**Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ?**

ðŸŒ **ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ:**
Ð“Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ â€” ÑÐ¸Ð»Ð° Ð¿Ñ€Ð¸Ñ‚ÑÐ¶ÐµÐ½Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ Ð²ÑÐµÐ¼Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°Ð¼Ð¸ Ñ Ð¼Ð°ÑÑÐ¾Ð¹.

**ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
- Ð§ÐµÐ¼ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¼Ð°ÑÑÐ° Ð¾Ð±ÑŠÐµÐºÑ‚Ð° â€” Ñ‚ÐµÐ¼ ÑÐ¸Ð»ÑŒÐ½ÐµÐµ Ð¿Ñ€Ð¸Ñ‚ÑÐ¶ÐµÐ½Ð¸Ðµ
- Ð—ÐµÐ¼Ð»Ñ Ð¿Ñ€Ð¸Ñ‚ÑÐ³Ð¸Ð²Ð°ÐµÑ‚ Ð²ÑÑ‘ Ðº Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ (9.8 Ð¼/ÑÂ²)
- Ð¡Ð¾Ð»Ð½Ñ†Ðµ ÑƒÐ´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¿Ð»Ð°Ð½ÐµÑ‚Ñ‹ Ð½Ð° Ð¾Ñ€Ð±Ð¸Ñ‚Ðµ

**Ð—Ð°ÐºÐ¾Ð½ ÐÑŒÑŽÑ‚Ð¾Ð½Ð°:**
F = G Ã— (mâ‚ Ã— mâ‚‚) / rÂ²

Ð“Ð´Ðµ:
- F â€” ÑÐ¸Ð»Ð° Ð¿Ñ€Ð¸Ñ‚ÑÐ¶ÐµÐ½Ð¸Ñ
- G â€” Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð°Ñ
- mâ‚, mâ‚‚ â€” Ð¼Ð°ÑÑÑ‹ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²
- r â€” Ñ€Ð°ÑÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð¸Ð¼Ð¸

**Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ðµ Ñ„Ð°ÐºÑ‚Ñ‹:**
ðŸŒ™ ÐÐ° Ð›ÑƒÐ½Ðµ Ð²Ñ‹ Ð²ÐµÑÐ¸Ñ‚Ðµ Ð² 6 Ñ€Ð°Ð· Ð¼ÐµÐ½ÑŒÑˆÐµ (ÑÐ»Ð°Ð±ÐµÐµ Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ)
ðŸª ÐÐ° Ð®Ð¿Ð¸Ñ‚ÐµÑ€Ðµ â€” Ð² 2.5 Ñ€Ð°Ð·Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ (ÑÐ¸Ð»ÑŒÐ½ÐµÐµ Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ)
ðŸ•³ï¸ Ð§Ñ‘Ñ€Ð½Ñ‹Ðµ Ð´Ñ‹Ñ€Ñ‹ â€” Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ¸Ð»ÑŒÐ½Ð°, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð²Ñ‹Ð¿ÑƒÑÐºÐ°ÐµÑ‚ Ð´Ð°Ð¶Ðµ ÑÐ²ÐµÑ‚!

ðŸ’¡ **ÐŸÑ€Ð¾ÑÑ‚Ñ‹Ð¼Ð¸ ÑÐ»Ð¾Ð²Ð°Ð¼Ð¸:** Ð“Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ â€” ÑÑ‚Ð¾ Ð½ÐµÐ²Ð¸Ð´Ð¸Ð¼Ð°Ñ ÑÐ¸Ð»Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð²ÑÑ‘ Ð¿Ñ€Ð¸Ñ‚ÑÐ³Ð¸Ð²Ð°ÐµÑ‚ Ð´Ñ€ÑƒÐ³ Ðº Ð´Ñ€ÑƒÐ³Ñƒ. Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ ÐµÐ¹ Ð¼Ñ‹ Ñ…Ð¾Ð´Ð¸Ð¼ Ð¿Ð¾ Ð—ÐµÐ¼Ð»Ðµ, Ð° Ð½Ðµ Ð»ÐµÑ‚Ð°ÐµÐ¼ Ð² ÐºÐ¾ÑÐ¼Ð¾Ñ!"""
    }
    
    for keyword, answer in topics.items():
        if keyword in query_lower:
            return answer
    
    return f"""**ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ!**

Ð¯ Ð¿Ð¾Ð½ÑÐ», Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð¾: "{query}"

Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ñƒ Ð¼ÐµÐ½Ñ Ð¿Ð¾ÐºÐ° Ð½ÐµÑ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾Ð³Ð¾ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ñ ÑÑ‚Ð¾Ð¹ Ñ‚ÐµÐ¼Ñ‹. 

**Ð§Ñ‚Ð¾ Ñ Ð¼Ð¾Ð³Ñƒ Ð¾Ð±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ:**
- ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚
- Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸Ñ
- Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ñ„Ð¾Ñ‚Ð¾ÑÐ¸Ð½Ñ‚ÐµÐ·
- Ð—Ð°ÐºÐ¾Ð½Ñ‹ ÐÑŒÑŽÑ‚Ð¾Ð½Ð°
- ÐšÐ°Ðº ÑƒÑÑ‚Ñ€Ð¾ÐµÐ½ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€

Ð£Ñ‚Ð¾Ñ‡Ð½Ð¸Ñ‚Ðµ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¸Ð»Ð¸ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ! ðŸŽ“"""

def help_with_code(query: str, query_lower: str) -> str:
    if 'ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°' in query_lower or 'Ð¼Ð°ÑÑÐ¸Ð²' in query_lower:
        return """**Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¼Ð°ÑÑÐ¸Ð²Ð° Ð½Ð° Python**

```python
# ÐŸÑƒÐ·Ñ‹Ñ€ÑŒÐºÐ¾Ð²Ð°Ñ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° (Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ Ð´Ð»Ñ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ)
def bubble_sort(arr):
    n = len(arr)
    
    for i in range(n):
        for j in range(0, n - i - 1):
            # Ð•ÑÐ»Ð¸ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð±Ð¾Ð»ÑŒÑˆÐµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾
            if arr[j] > arr[j + 1]:
                # ÐœÐµÐ½ÑÐµÐ¼ Ð¸Ñ… Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
    
    return arr

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ
numbers = [64, 34, 25, 12, 22, 11, 90]
sorted_numbers = bubble_sort(numbers)
print(sorted_numbers)  # [11, 12, 22, 25, 34, 64, 90]
```

**ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
1. ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð¸Ð¼ Ð¿Ð¾ Ð¼Ð°ÑÑÐ¸Ð²Ñƒ Ð¼Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·
2. Ð¡Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÐ¼ ÑÐ¾ÑÐµÐ´Ð½Ð¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹
3. Ð•ÑÐ»Ð¸ Ð»ÐµÐ²Ñ‹Ð¹ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¿Ñ€Ð°Ð²Ð¾Ð³Ð¾ â€” Ð¼ÐµÐ½ÑÐµÐ¼ Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸
4. ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€ÑÐµÐ¼, Ð¿Ð¾ÐºÐ° Ð¼Ð°ÑÑÐ¸Ð² Ð½Ðµ Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ

âš¡ **Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± (Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ):**
```python
numbers = [64, 34, 25, 12, 22, 11, 90]
numbers.sort()  # Ð˜Ð»Ð¸ sorted(numbers)
print(numbers)
```

ðŸ’¡ Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´ â€” ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹ Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹! ðŸš€"""
    
    return """**ÐŸÐ¾Ð¼Ð¾Ð³Ñƒ Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼!**

**ÐÐ°Ð¿Ð¸ÑˆÐ¸ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ:**
- ÐÐ°Ð¿Ð¸ÑˆÐ¸ ÐºÐ¾Ð´ Ð´Ð»Ñ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð¼Ð°ÑÑÐ¸Ð²Ð°
- ÐšÐ°Ðº ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð² Python?
- ÐžÐ±ÑŠÑÑÐ½Ð¸ Ñ†Ð¸ÐºÐ» for
- ÐÐ°Ð¿Ð¸ÑˆÐ¸ ÐºÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€ Ð½Ð° JavaScript

Ð˜ Ñ Ð´Ð°Ð¼ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ð¹ ÐºÐ¾Ð´ Ñ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸! ðŸ’»"""

def generate_intelligent_answer(query: str) -> str:
    return f"""**Ð¯ Ð¿Ð¾Ð½ÑÐ» Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ: "{query}"**

Ð§Ñ‚Ð¾Ð±Ñ‹ Ð´Ð°Ñ‚ÑŒ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚, ÑƒÑ‚Ð¾Ñ‡Ð½Ð¸Ñ‚Ðµ:

**Ð•ÑÐ»Ð¸ ÑÑ‚Ð¾ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ°:**
- ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ: (25 Ã— 4) + 120 / 6
- Ð˜Ð»Ð¸ ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ: 2x + 5 = 13

**Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶ÐµÐ½ Ñ‚ÐµÐºÑÑ‚:**
- "ÐÐ°Ð¿Ð¸ÑˆÐ¸ ÑÑ‚Ð°Ñ‚ÑŒÑŽ Ð¿Ñ€Ð¾ ÑÐºÐ¾Ð»Ð¾Ð³Ð¸ÑŽ"
- "Ð­ÑÑÐµ Ð¾ Ñ€Ð¾Ð»Ð¸ ÑÐ¿Ð¾Ñ€Ñ‚Ð°"

**Ð•ÑÐ»Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¿Ð¾ Ñ‚ÐµÐ¼Ðµ:**
- "Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ñ„Ð¾Ñ‚Ð¾ÑÐ¸Ð½Ñ‚ÐµÐ·?"
- "ÐžÐ±ÑŠÑÑÐ½Ð¸ Ð³Ñ€Ð°Ð²Ð¸Ñ‚Ð°Ñ†Ð¸ÑŽ"
- "Ð Ð°ÑÑÐºÐ°Ð¶Ð¸ Ð¾Ð± Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ"

**Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶ÐµÐ½ ÐºÐ¾Ð´:**
- "ÐÐ°Ð¿Ð¸ÑˆÐ¸ ÐºÐ¾Ð´ Ð´Ð»Ñ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð½Ð° Python"
- "ÐšÐ°Ðº ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ?"

Ð¯ Ñ€ÐµÑˆÑƒ Ð›Ð®Ð‘Ð£Ð® Ð·Ð°Ð´Ð°Ñ‡Ñƒ â€” Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð·Ð°Ð´Ð°Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ñ‚Ð¾Ñ‡Ð½ÐµÐµ! ðŸš€"""

def process_english_smart(query: str, query_lower: str) -> str:
    if 'hello' in query_lower or 'hi' in query_lower:
        return "Hello! ðŸ‘‹ I'm NeuroPulse â€” smart AI assistant!\n\n**I can help with:**\nâœ… Solving problems (math, physics, logic)\nâœ… Writing articles and texts\nâœ… Explaining complex topics\nâœ… Programming and algorithms\n\nAsk any question â€” I'll give a ready solution! ðŸš€"
    
    if has_math_expression(query):
        return solve_math_expression(query)
    
    return "Ask a specific question and I'll give a detailed answer! ðŸŽ¯"
