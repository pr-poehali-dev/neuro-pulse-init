import json
from typing import Dict, Any
import re

def handler(event: Dict[str, Any], context: Any) -> Dict[str, Any]:
    '''
    Business: Ğ£Ğ¼Ğ½Ñ‹Ğ¹ AI-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ NeuroPulse Ğ´Ğ»Ñ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ¾Ğ² - Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ½Ğ° Ğ»ÑĞ±Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹
    Args: event - dict with httpMethod, body (message, userId, language)
          context - object with request_id
    Returns: HTTP response dict Ñ ÑƒĞ¼Ğ½Ñ‹Ğ¼ Ñ€Ğ°Ğ·Ğ²Ñ‘Ñ€Ğ½ÑƒÑ‚Ñ‹Ğ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ¼
    '''
    method: str = event.get('httpMethod', 'POST')
    
    if method == 'OPTIONS':
        return {
            'statusCode': 200,
            'headers': {
                'Access-Control-Allow-Origin': '*',
                'Access-Control-Allow-Methods': 'POST, OPTIONS',
                'Access-Control-Allow-Headers': 'Content-Type, X-User-Id',
                'Access-Control-Max-Age': '86400'
            },
            'body': ''
        }
    
    if method != 'POST':
        return {
            'statusCode': 405,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({'error': 'Method not allowed'})
        }
    
    try:
        body_data = json.loads(event.get('body', '{}'))
        message = body_data.get('message', '').strip()
        language = body_data.get('language', 'ru')
        
        if not message:
            return {
                'statusCode': 400,
                'headers': {
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*'
                },
                'body': json.dumps({'error': 'Message is required'})
            }
        
        response = process_intelligent_query(message, language)
        
        return {
            'statusCode': 200,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({
                'response': response,
                'success': True
            })
        }
        
    except json.JSONDecodeError:
        return {
            'statusCode': 400,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({'error': 'Invalid JSON'})
        }
    except Exception as e:
        return {
            'statusCode': 500,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({'error': f'Server error: {str(e)}'})
        }

def process_intelligent_query(query: str, lang: str) -> str:
    query_lower = query.lower()
    
    if lang == 'ru':
        return process_russian_query(query, query_lower)
    else:
        return process_english_query(query, query_lower)

def process_russian_query(query: str, query_lower: str) -> str:
    if any(word in query_lower for word in ['Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚', 'Ğ·Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹', 'Ğ´Ğ¾Ğ±Ñ€Ñ‹Ğ¹']):
        return "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! ğŸ‘‹ Ğ¯ NeuroPulse â€” Ñ‚Ğ²Ğ¾Ğ¹ ÑƒĞ¼Ğ½Ñ‹Ğ¹ AI-Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº!\n\n**Ğ¯ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ñƒ Ñ‚ĞµĞ±Ğµ Ñ:**\nâœ… Ğ ĞµÑˆĞµĞ½Ğ¸ĞµĞ¼ Ğ·Ğ°Ğ´Ğ°Ñ‡ (Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°, Ñ„Ğ¸Ğ·Ğ¸ĞºĞ°, Ñ…Ğ¸Ğ¼Ğ¸Ñ)\nâœ… ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ² (ÑÑÑĞµ, Ñ€ĞµÑ„ĞµÑ€Ğ°Ñ‚Ñ‹, ĞºÑƒÑ€ÑĞ¾Ğ²Ñ‹Ğµ)\nâœ… ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸ĞµĞ¼ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ñ… Ñ‚ĞµĞ¼\nâœ… Ğ˜Ğ·ÑƒÑ‡ĞµĞ½Ğ¸ĞµĞ¼ ÑĞ·Ñ‹ĞºĞ¾Ğ² Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°Ğ¼Ğ¸\nâœ… ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼\nâœ… Ğ›ÑĞ±Ñ‹Ğ¼Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸!\n\nĞ—Ğ°Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ â€” Ğ´Ğ°Ğ¼ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚! ğŸš€"
    
    if 'ÑĞ¿Ğ¾Ñ€Ñ‚' in query_lower:
        return analyze_sport_query(query, query_lower)
    
    if any(word in query_lower for word in ['Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ğº', 'Ñ€ĞµÑˆĞ¸', 'ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ', 'Ğ·Ğ°Ğ´Ğ°Ñ‡', 'Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸', 'Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°']):
        return solve_math_problem(query, query_lower)
    
    if any(word in query_lower for word in ['Ñ„Ğ¸Ğ·Ğ¸Ğº', 'Ğ·Ğ°ĞºĞ¾Ğ½', 'ÑĞ¸Ğ»Ğ°', 'ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ', 'Ğ¼Ğ°ÑÑĞ°', 'ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ']):
        return explain_physics(query, query_lower)
    
    if any(word in query_lower for word in ['Ñ…Ğ¸Ğ¼Ğ¸', 'Ñ€ĞµĞ°ĞºÑ†Ğ¸Ñ', 'ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚', 'ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ', 'Ğ¼Ğ¾Ğ»ĞµĞºÑƒĞ»Ğ°']):
        return explain_chemistry(query, query_lower)
    
    if any(word in query_lower for word in ['Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼', 'ĞºĞ¾Ğ´', 'python', 'javascript', 'Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼', 'Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ']):
        return help_programming(query, query_lower)
    
    if any(word in query_lower for word in ['Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸', 'ÑĞ¾Ñ‡Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ', 'ÑÑÑĞµ', 'Ñ€ĞµÑ„ĞµÑ€Ğ°Ñ‚', 'Ñ‚ĞµĞºÑÑ‚', 'ĞºÑƒÑ€ÑĞ¾Ğ²Ğ°Ñ']):
        return write_essay(query, query_lower)
    
    if any(word in word in query_lower for word in ['Ğ¿ĞµÑ€ĞµĞ²ĞµĞ´', 'Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹', 'translate', 'ÑĞ·Ñ‹Ğº']):
        return help_language(query, query_lower)
    
    if any(word in query_lower for word in ['Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†', 'ÑÑ€Ğ°Ğ²Ğ½Ğ¸', 'ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ']):
        return create_table(query, query_lower)
    
    if any(word in query_lower for word in ['Ñ‡Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ', 'Ğ¾Ğ±ÑŠÑÑĞ½Ğ¸', 'Ñ€Ğ°ÑÑĞºĞ°Ğ¶Ğ¸ Ğ¾', 'ĞºĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚']):
        return explain_concept(query, query_lower)
    
    return generate_smart_answer(query)

def analyze_sport_query(query: str, query_lower: str) -> str:
    if 'ÑÑ‚Ğ¾' in query_lower and len(query_lower.split()) <= 3:
        return """**Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ â€” ÑÑ‚Ğ¾ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ñ‚ĞµĞ»Ğ° Ğ¸ Ğ´ÑƒÑ…Ğ°.**

ğŸƒ **ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ°ÑĞ¿ĞµĞºÑ‚Ñ‹ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°:**

**1. Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ**
- Ğ£ĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼Ñ‹ÑˆÑ† Ğ¸ ÑĞµÑ€Ğ´ĞµÑ‡Ğ½Ğ¾-ÑĞ¾ÑÑƒĞ´Ğ¸ÑÑ‚Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
- ĞŸĞ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ Ğ²Ñ‹Ğ½Ğ¾ÑĞ»Ğ¸Ğ²Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ³Ğ¸Ğ±ĞºĞ¾ÑÑ‚Ğ¸
- Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹

**2. ĞŸÑĞ¸Ñ…Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ°**
- Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ ÑÑ‚Ñ€ĞµÑÑĞ° Ğ¸ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ñ
- Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ ÑĞ¸Ğ»Ñ‹ Ğ²Ğ¾Ğ»Ğ¸ Ğ¸ Ğ´Ğ¸ÑÑ†Ğ¸Ğ¿Ğ»Ğ¸Ğ½Ñ‹
- ĞŸĞ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ ÑĞ°Ğ¼Ğ¾Ğ¾Ñ†ĞµĞ½ĞºĞ¸

**3. Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€Ğ¾Ğ»ÑŒ**
- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ¸ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
- Ğ¡Ğ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ´ÑƒÑ… Ğ¸ Ğ°Ğ·Ğ°Ñ€Ñ‚
- Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ°

âš½ **Ğ’Ğ¸Ğ´Ñ‹ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°:**
- **ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ñ‹Ğµ**: Ñ„ÑƒÑ‚Ğ±Ğ¾Ğ», Ğ±Ğ°ÑĞºĞµÑ‚Ğ±Ğ¾Ğ», Ğ²Ğ¾Ğ»ĞµĞ¹Ğ±Ğ¾Ğ»
- **Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ**: Ğ±ĞµĞ³, Ğ¿Ğ»Ğ°Ğ²Ğ°Ğ½Ğ¸Ğµ, Ñ‚ĞµĞ½Ğ½Ğ¸Ñ
- **Ğ¡Ğ¸Ğ»Ğ¾Ğ²Ñ‹Ğµ**: Ñ‚ÑĞ¶Ñ‘Ğ»Ğ°Ñ Ğ°Ñ‚Ğ»ĞµÑ‚Ğ¸ĞºĞ°, Ğ±Ğ¾Ğ´Ğ¸Ğ±Ğ¸Ğ»Ğ´Ğ¸Ğ½Ğ³
- **Ğ­ĞºÑÑ‚Ñ€ĞµĞ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ**: ÑĞ½Ğ¾ÑƒĞ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³, Ğ¿Ğ°Ñ€ĞºÑƒÑ€, ÑĞºĞ°Ğ»Ğ¾Ğ»Ğ°Ğ·Ğ°Ğ½Ğ¸Ğµ

ğŸ’ª **ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ²Ğ°Ğ¶Ğ½Ğ¾ Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒÑÑ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ¼?**
- Ğ—Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ Ğ¸ Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ»ĞµÑ‚Ğ¸Ğµ
- ĞšÑ€Ğ°ÑĞ¸Ğ²Ğ¾Ğµ Ñ‚ĞµĞ»Ğ¾
- Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ Ğ½Ğ° Ğ²ĞµÑÑŒ Ğ´ĞµĞ½ÑŒ
- ĞĞ¾Ğ²Ñ‹Ğµ Ğ´Ñ€ÑƒĞ·ÑŒÑ Ğ¸ ÑĞ¼Ğ¾Ñ†Ğ¸Ğ¸

ğŸ¯ **Ğ¡Ğ¾Ğ²ĞµÑ‚**: Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ Ğ²Ğ¸Ğ´ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¿Ğ¾ Ğ´ÑƒÑˆĞµ Ğ¸ Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°Ğ¹ÑÑ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾ â€” Ğ´Ğ°Ğ¶Ğµ 30 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ² Ğ´ĞµĞ½ÑŒ Ğ´Ğ°ÑÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚!"""
    
    return f"**Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ â€” ÑÑ‚Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ğ¹ Ğ¸ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹.**\n\nĞ—Ğ°Ğ´Ğ°Ğ¹ Ğ±Ğ¾Ğ»ĞµĞµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ¾ ÑĞ¿Ğ¾Ñ€Ñ‚Ğµ (Ğ²Ğ¸Ğ´Ñ‹ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°, Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ°, Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸), Ğ¸ Ñ Ğ´Ğ°Ğ¼ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚! ğŸƒâ€â™‚ï¸"

def solve_math_problem(query: str, query_lower: str) -> str:
    if 'ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½' in query_lower and 'ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ' in query_lower:
        return """**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ğ¾Ğ³Ğ¾ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ xÂ² - 5x + 6 = 0**

ğŸ“ **Ğ¨Ğ°Ğ³ 1: ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚Ñ‹**
- a = 1 (ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¸ xÂ²)
- b = -5 (ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¸ x)
- c = 6 (ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ñ‡Ğ»ĞµĞ½)

ğŸ”¢ **Ğ¨Ğ°Ğ³ 2: Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµĞ¼ Ğ´Ğ¸ÑĞºÑ€Ğ¸Ğ¼Ğ¸Ğ½Ğ°Ğ½Ñ‚**
D = bÂ² - 4ac = (-5)Â² - 4Ã—1Ã—6 = 25 - 24 = 1

âœ… D > 0, Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ 2 ĞºĞ¾Ñ€Ğ½Ñ

ğŸ“Š **Ğ¨Ğ°Ğ³ 3: ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ğ¼ ĞºĞ¾Ñ€Ğ½Ğ¸**
xâ‚ = (-b + âˆšD) / 2a = (5 + 1) / 2 = 3
xâ‚‚ = (-b - âˆšD) / 2a = (5 - 1) / 2 = 2

**ĞÑ‚Ğ²ĞµÑ‚: xâ‚ = 3, xâ‚‚ = 2**

ğŸ§® **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°:**
- 3Â² - 5Ã—3 + 6 = 9 - 15 + 6 = 0 âœ“
- 2Â² - 5Ã—2 + 6 = 4 - 10 + 6 = 0 âœ“

Ğ—Ğ°Ğ´Ğ°Ğ¹ Ğ´Ñ€ÑƒĞ³ÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ, ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾! ğŸ¯"""
    
    return """ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾! ĞŸĞ¾Ğ¼Ğ¾Ğ³Ñƒ Ñ€ĞµÑˆĞ¸Ñ‚ÑŒ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ.

**ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½ÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ, Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€:**
- Ğ ĞµÑˆĞ¸ ÑƒÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ: 2x + 5 = 13
- ĞĞ°Ğ¹Ğ´Ğ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ f(x) = xÂ³
- Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸: (25 Ã— 4) + 120 / 6

Ğ˜ Ñ Ğ´Ğ°Ğ¼ Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ¾Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ! ğŸ§®"""

def explain_physics(query: str, query_lower: str) -> str:
    if 'Ñ„Ğ¾Ñ‚Ğ¾ÑĞ¸Ğ½Ñ‚ĞµĞ·' in query_lower:
        return """**Ğ¤Ğ¾Ñ‚Ğ¾ÑĞ¸Ğ½Ñ‚ĞµĞ· â€” ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ, Ğ¿Ñ€Ğ¸ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ Ñ€Ğ°ÑÑ‚ĞµĞ½Ğ¸Ñ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ Ğ¿Ğ¸Ñ‚Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ²ĞµÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ¸Ğ· ÑĞ²ĞµÑ‚Ğ°.**

ğŸŒ± **Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**

**1. ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°:**
6COâ‚‚ + 6Hâ‚‚O + ÑĞ²ĞµÑ‚ â†’ Câ‚†Hâ‚â‚‚Oâ‚† + 6Oâ‚‚
(ÑƒĞ³Ğ»ĞµĞºĞ¸ÑĞ»Ñ‹Ğ¹ Ğ³Ğ°Ğ· + Ğ²Ğ¾Ğ´Ğ° + ÑĞ²ĞµÑ‚ â†’ Ğ³Ğ»ÑĞºĞ¾Ğ·Ğ° + ĞºĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´)

**2. Ğ“Ğ´Ğµ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
- Ğ’ Ñ…Ğ»Ğ¾Ñ€Ğ¾Ğ¿Ğ»Ğ°ÑÑ‚Ğ°Ñ… ĞºĞ»ĞµÑ‚Ğ¾Ğº Ğ»Ğ¸ÑÑ‚ÑŒĞµĞ²
- Ğ—ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ Ñ†Ğ²ĞµÑ‚ Ğ»Ğ¸ÑÑ‚ÑŒÑĞ¼ Ğ¿Ñ€Ğ¸Ğ´Ğ°Ñ‘Ñ‚ Ñ…Ğ»Ğ¾Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ»

**3. Ğ­Ñ‚Ğ°Ğ¿Ñ‹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°:**

ğŸ“¸ **Ğ¡Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ Ñ„Ğ°Ğ·Ğ°** (Ğ½Ğ° ÑĞ²ĞµÑ‚Ñƒ):
- Ğ¥Ğ»Ğ¾Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ» Ğ¿Ğ¾Ğ³Ğ»Ğ¾Ñ‰Ğ°ĞµÑ‚ ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ ÑĞ²ĞµÑ‚Ğ°
- Ğ’Ğ¾Ğ´Ğ° Ñ€Ğ°ÑÑ‰ĞµĞ¿Ğ»ÑĞµÑ‚ÑÑ Ğ½Ğ° Ğ²Ğ¾Ğ´Ğ¾Ñ€Ğ¾Ğ´ Ğ¸ ĞºĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´
- ĞšĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´ Ğ²Ñ‹Ğ´ĞµĞ»ÑĞµÑ‚ÑÑ Ğ² Ğ²Ğ¾Ğ·Ğ´ÑƒÑ…

ğŸŒ™ **Ğ¢ĞµĞ¼Ğ½Ğ¾Ğ²Ğ°Ñ Ñ„Ğ°Ğ·Ğ°** (Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¸Ğ´Ñ‚Ğ¸ Ğ±ĞµĞ· ÑĞ²ĞµÑ‚Ğ°):
- COâ‚‚ Ğ¸Ğ· Ğ²Ğ¾Ğ·Ğ´ÑƒÑ…Ğ° ÑĞ¾ĞµĞ´Ğ¸Ğ½ÑĞµÑ‚ÑÑ Ñ Ğ²Ğ¾Ğ´Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ¼
- ĞĞ±Ñ€Ğ°Ğ·ÑƒĞµÑ‚ÑÑ Ğ³Ğ»ÑĞºĞ¾Ğ·Ğ° (ÑĞ°Ñ…Ğ°Ñ€)
- Ğ Ğ°ÑÑ‚ĞµĞ½Ğ¸Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ³Ğ»ÑĞºĞ¾Ğ·Ñƒ Ğ´Ğ»Ñ Ñ€Ğ¾ÑÑ‚Ğ°

ğŸŒ **ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‚Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾:**
- Ğ Ğ°ÑÑ‚ĞµĞ½Ğ¸Ñ Ğ´Ğ°ÑÑ‚ Ğ½Ğ°Ğ¼ ĞºĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´ Ğ´Ğ»Ñ Ğ´Ñ‹Ñ…Ğ°Ğ½Ğ¸Ñ
- ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚ Ğ¿Ğ¸Ñ‰Ñƒ Ğ´Ğ»Ñ Ğ²ÑĞµĞ¹ Ğ¿Ğ»Ğ°Ğ½ĞµÑ‚Ñ‹
- ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰Ğ°ÑÑ‚ Ğ²Ñ€ĞµĞ´Ğ½Ñ‹Ğ¹ COâ‚‚ Ğ¸Ğ· Ğ°Ñ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ñ‹

ğŸ’¡ **ĞŸÑ€Ğ¾ÑÑ‚Ñ‹Ğ¼Ğ¸ ÑĞ»Ğ¾Ğ²Ğ°Ğ¼Ğ¸:**
Ğ Ğ°ÑÑ‚ĞµĞ½Ğ¸Ñ â€” ÑÑ‚Ğ¾ ÑĞ¾Ğ»Ğ½ĞµÑ‡Ğ½Ñ‹Ğµ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµĞ¹ĞºĞ¸! ĞĞ½Ğ¸ Ğ»Ğ¾Ğ²ÑÑ‚ ÑĞ²ĞµÑ‚, Ğ¿Ñ€ĞµĞ²Ñ€Ğ°Ñ‰Ğ°ÑÑ‚ ĞµĞ³Ğ¾ Ğ² ĞµĞ´Ñƒ Ğ¸ Ğ´Ğ°ÑÑ‚ Ğ½Ğ°Ğ¼ ĞºĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´. Ğ‘ĞµĞ· Ñ„Ğ¾Ñ‚Ğ¾ÑĞ¸Ğ½Ñ‚ĞµĞ·Ğ° Ğ¶Ğ¸Ğ·Ğ½ÑŒ Ğ½Ğ° Ğ—ĞµĞ¼Ğ»Ğµ Ğ½ĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ°! ğŸŒ¿"""
    
    return """**Ğ¤Ğ¸Ğ·Ğ¸ĞºĞ° Ğ¸Ğ·ÑƒÑ‡Ğ°ĞµÑ‚ Ğ·Ğ°ĞºĞ¾Ğ½Ñ‹ Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ñ‹ Ğ¸ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ¸.**

Ğ—Ğ°Ğ´Ğ°Ğ¹ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ:
- Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Ğ·Ğ°ĞºĞ¾Ğ½ ĞÑŒÑÑ‚Ğ¾Ğ½Ğ°?
- ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾?
- ĞĞ±ÑŠÑÑĞ½Ğ¸ Ğ³Ñ€Ğ°Ğ²Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ

Ğ˜ Ñ Ğ´Ğ°Ğ¼ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ! âš¡"""

def explain_chemistry(query: str, query_lower: str) -> str:
    return """**Ğ¥Ğ¸Ğ¼Ğ¸Ñ â€” Ğ½Ğ°ÑƒĞºĞ° Ğ¾ Ğ²ĞµÑ‰ĞµÑÑ‚Ğ²Ğ°Ñ… Ğ¸ Ğ¸Ñ… Ğ¿Ñ€ĞµĞ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸ÑÑ….**

Ğ—Ğ°Ğ´Ğ°Ğ¹ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ:
- Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ĞºĞ¾Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ?
- ĞšĞ°Ğº Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ñ Ğ³Ğ¾Ñ€ĞµĞ½Ğ¸Ñ?
- ĞĞ±ÑŠÑÑĞ½Ğ¸ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ ĞœĞµĞ½Ğ´ĞµĞ»ĞµĞµĞ²Ğ°

Ğ˜ Ñ Ğ¾Ğ±ÑŠÑÑĞ½Ñ Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ğ¾! ğŸ§ª"""

def help_programming(query: str, query_lower: str) -> str:
    return """**ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ â€” ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼ Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ¾Ğ².**

**ĞŸĞ¾Ğ¼Ğ¾Ğ³Ñƒ Ñ:**
âœ… Python, JavaScript, C++, Java
âœ… ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ ĞºĞ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡
âœ… ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ¾Ğ²
âœ… Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½ÑƒÑ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ:
- ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ ĞºĞ¾Ğ´ Ğ´Ğ»Ñ ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ°
- ĞĞ±ÑŠÑÑĞ½Ğ¸, Ñ‡Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Ñ†Ğ¸ĞºĞ» for
- ĞšĞ°Ğº ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ² Python?

Ğ˜ Ñ Ğ´Ğ°Ğ¼ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ´ Ñ Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸! ğŸ’»"""

def write_essay(query: str, query_lower: str) -> str:
    if 'ÑĞ¿Ğ¾Ñ€Ñ‚' in query_lower:
        return """**Ğ­ÑÑĞµ: "Ğ Ğ¾Ğ»ÑŒ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ² Ğ¶Ğ¸Ğ·Ğ½Ğ¸ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞºĞ°"**

**Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ**
Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ â€” Ğ½ĞµĞ¾Ñ‚ÑŠĞµĞ¼Ğ»ĞµĞ¼Ğ°Ñ Ñ‡Ğ°ÑÑ‚ÑŒ Ğ¶Ğ¸Ğ·Ğ½Ğ¸ ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°. ĞĞ½ Ğ²Ğ»Ğ¸ÑĞµÑ‚ Ğ½Ğ° Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ, Ğ¿ÑĞ¸Ñ…Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¸ ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸ Ğ»ÑĞ´ĞµĞ¹.

**ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ñ‡Ğ°ÑÑ‚ÑŒ**

**1. Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ**
Ğ ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ñ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ¼ ÑƒĞºÑ€ĞµĞ¿Ğ»ÑÑÑ‚ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ¼, Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞ°ÑÑ‚ Ğ¸Ğ¼Ğ¼ÑƒĞ½Ğ¸Ñ‚ĞµÑ‚ Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ÑÑ‚ Ğ¼Ğ½Ğ¾Ğ³Ğ¸Ğµ Ğ·Ğ°Ğ±Ğ¾Ğ»ĞµĞ²Ğ°Ğ½Ğ¸Ñ. ĞšĞ°Ñ€Ğ´Ğ¸Ğ¾Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ ÑƒĞ»ÑƒÑ‡ÑˆĞ°ÑÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ ÑĞµÑ€Ğ´Ñ†Ğ°, ÑĞ¸Ğ»Ğ¾Ğ²Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°ÑÑ‚ Ğ¼Ñ‹ÑˆÑ†Ñ‹, Ğ° Ñ€Ğ°ÑÑ‚ÑĞ¶ĞºĞ° ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ³Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ.

**2. ĞŸÑĞ¸Ñ…Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğµ**
Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ ÑÑ‚Ğ¸Ğ¼ÑƒĞ»Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ñ‹Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ ÑĞ½Ğ´Ğ¾Ñ€Ñ„Ğ¸Ğ½Ğ¾Ğ² â€” Ğ³Ğ¾Ñ€Ğ¼Ğ¾Ğ½Ğ¾Ğ² ÑÑ‡Ğ°ÑÑ‚ÑŒÑ. Ğ­Ñ‚Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ ÑĞ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒÑÑ ÑĞ¾ ÑÑ‚Ñ€ĞµÑÑĞ¾Ğ¼, ÑƒĞ»ÑƒÑ‡ÑˆĞ°ĞµÑ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞ°ĞµÑ‚ ÑĞ°Ğ¼Ğ¾Ğ¾Ñ†ĞµĞ½ĞºÑƒ. Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ ÑƒÑ‡Ğ¸Ñ‚ Ğ´Ğ¸ÑÑ†Ğ¸Ğ¿Ğ»Ğ¸Ğ½Ğµ Ğ¸ Ñ†ĞµĞ»ĞµÑƒÑÑ‚Ñ€ĞµĞ¼Ğ»Ñ‘Ğ½Ğ½Ğ¾ÑÑ‚Ğ¸.

**3. Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ**
ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ñ‹Ğµ Ğ²Ğ¸Ğ´Ñ‹ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°ÑÑ‚ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¸ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, ÑƒÑ‡Ğ°Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ² ĞºĞ¾Ğ»Ğ»ĞµĞºÑ‚Ğ¸Ğ²Ğµ Ğ¸ ÑƒĞ²Ğ°Ğ¶Ğ°Ñ‚ÑŒ ÑĞ¾Ğ¿ĞµÑ€Ğ½Ğ¸ĞºĞ¾Ğ². Ğ¡Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ÑĞµĞºÑ†Ğ¸Ğ¸ â€” Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾ Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼ÑÑ‚Ğ² Ğ¸ Ğ´Ñ€ÑƒĞ¶Ğ±Ñ‹.

**4. Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ°**
Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ Ğ²Ğ¾ÑĞ¿Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¸Ğ»Ñƒ Ğ²Ğ¾Ğ»Ğ¸, ÑƒĞ¿Ğ¾Ñ€ÑÑ‚Ğ²Ğ¾ Ğ¸ ÑƒĞ¼ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ¾Ğ´Ğ¾Ğ»ĞµĞ²Ğ°Ñ‚ÑŒ Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¾ÑÑ‚Ğ¸. ĞŸĞ¾Ğ±ĞµĞ´Ñ‹ ÑƒÑ‡Ğ°Ñ‚ Ñ€Ğ°Ğ´Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ ÑƒÑĞ¿ĞµÑ…Ğ°Ğ¼, Ğ° Ğ¿Ğ¾Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ â€” Ğ½Ğµ ÑĞ´Ğ°Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ´ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°Ğ¼Ğ¸.

**Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ**
Ğ¡Ğ¿Ğ¾Ñ€Ñ‚ â€” ÑÑ‚Ğ¾ Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ†Ğ¸Ñ Ğ² ÑĞ²Ğ¾Ñ‘ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ, Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞµ. Ğ”Ğ°Ğ¶Ğµ 30 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ´ĞµĞ½ÑŒ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ñ‹ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¶Ğ¸Ğ·Ğ½Ğ¸. Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ â€” Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ²Ğ¸Ğ´ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¿Ğ¾ Ğ´ÑƒÑˆĞµ Ğ¸ Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒÑÑ Ñ ÑƒĞ´Ğ¾Ğ²Ğ¾Ğ»ÑŒÑÑ‚Ğ²Ğ¸ĞµĞ¼!

---

ğŸ’¡ **Ğ¡Ğ¾Ğ²ĞµÑ‚:** ĞœĞ¾Ğ¶ĞµÑˆÑŒ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ñ‚ Ñ‚ĞµĞºÑÑ‚ Ğ¿Ğ¾Ğ´ ÑĞ²Ğ¾Ğ¸ Ğ½ÑƒĞ¶Ğ´Ñ‹, Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ¸Ğ»Ğ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹!"""
    
    return """**ĞŸĞ¾Ğ¼Ğ¾Ğ³Ñƒ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ñ‚ĞµĞºÑÑ‚!**

Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸ Ñ‚ĞµĞ¼Ñƒ:
- ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ ÑÑÑĞµ Ğ¿Ñ€Ğ¾ ÑĞºĞ¾Ğ»Ğ¾Ğ³Ğ¸Ñ
- Ğ ĞµÑ„ĞµÑ€Ğ°Ñ‚ Ğ¾ Ğ’ĞµĞ»Ğ¸ĞºĞ¾Ğ¹ ĞÑ‚ĞµÑ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ²Ğ¾Ğ¹Ğ½Ğµ
- Ğ¡Ğ¾Ñ‡Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ "ĞœĞ¾Ñ‘ Ğ»ÑĞ±Ğ¸Ğ¼Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ³Ğ¾Ğ´Ğ°"

Ğ˜ Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ¼ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚! ğŸ“"""

def help_language(query: str, query_lower: str) -> str:
    return """**ĞŸĞ¾Ğ¼Ğ¾Ğ³Ñƒ Ñ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸ĞµĞ¼ ÑĞ·Ñ‹ĞºĞ¾Ğ²!**

**ĞœĞ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ:**
âœ… ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ñ/Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¸Ğ¹, Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹
âœ… ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ¸
âœ… Ğ Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ½Ñ‹Ğµ Ñ„Ñ€Ğ°Ğ·Ñ‹
âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²

ĞĞ°Ğ¿Ğ¸ÑˆĞ¸:
- ĞŸĞµÑ€ĞµĞ²ĞµĞ´Ğ¸ Ğ½Ğ° Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹: "Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ!"
- ĞĞ±ÑŠÑÑĞ½Ğ¸ Present Perfect
- ĞšĞ°Ğº ÑĞºĞ°Ğ·Ğ°Ñ‚ÑŒ "Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑÑ‚Ğ¾Ğ¸Ñ‚?" Ğ¿Ğ¾-Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸

Ğ˜ Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ñƒ! ğŸŒ"""

def create_table(query: str, query_lower: str) -> str:
    return """**Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¼ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ´Ğ»Ñ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ!**

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹:

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | Python | JavaScript | Java |
|----------|--------|------------|------|
| ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ğ° | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ğ¾ÑÑ‚ÑŒ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |

Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸, Ñ‡Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ÑŒ, Ğ¸ Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ¼ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ! ğŸ“Š"""

def explain_concept(query: str, query_lower: str) -> str:
    return f"""**ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ!**

Ğ¢Ñ‹ ÑĞ¿Ñ€Ğ¾ÑĞ¸Ğ»: "{query}"

Ğ£Ñ‚Ğ¾Ñ‡Ğ½Ğ¸ Ñ‚ĞµĞ¼Ñƒ Ğ±Ğ¾Ğ»ĞµĞµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾:
- Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Ñ„Ğ¾Ñ‚Ğ¾ÑĞ¸Ğ½Ñ‚ĞµĞ·?
- ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚?
- ĞĞ±ÑŠÑÑĞ½Ğ¸ Ñ‚ĞµĞ¾Ñ€Ğ¸Ñ Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

Ğ˜ Ñ Ğ´Ğ°Ğ¼ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°Ğ¼Ğ¸! ğŸ“"""

def generate_smart_answer(query: str) -> str:
    return f"""**Ğ˜Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ!**

Ğ¢Ñ‹ ÑĞ¿Ñ€Ğ¾ÑĞ¸Ğ»: "{query}"

Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ´Ğ°Ñ‚ÑŒ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚, ÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ¸:
- Ğ ĞºĞ°ĞºĞ¾Ğ¼ Ğ°ÑĞ¿ĞµĞºÑ‚Ğµ Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ?
- Ğ”Ğ»Ñ ĞºĞ°ĞºĞ¾Ğ¹ Ñ†ĞµĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ° Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ (ÑƒÑ‡Ñ‘Ğ±Ğ°, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°, Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑ)?
- ĞÑƒĞ¶Ğ½Ğ¾ Ğ»Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸, Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ Ğ¸Ğ»Ğ¸ Ñ‚ĞµĞºÑÑ‚?

Ğ¯ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ñƒ Ñ:
ğŸ“ Ğ£Ñ‡Ñ‘Ğ±Ğ¾Ğ¹ (Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°, Ñ„Ğ¸Ğ·Ğ¸ĞºĞ°, Ñ…Ğ¸Ğ¼Ğ¸Ñ, ÑĞ·Ñ‹ĞºĞ¸)
ğŸ“ ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ² (ÑÑÑĞµ, Ñ€ĞµÑ„ĞµÑ€Ğ°Ñ‚Ñ‹, ÑĞ¾Ñ‡Ğ¸Ğ½ĞµĞ½Ğ¸Ñ)
ğŸ’» ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ (ĞºĞ¾Ğ´, Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹)
ğŸ“Š Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸ĞµĞ¼ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ† Ğ¸ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²
ğŸ§  ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ»ÑĞ±Ñ‹Ñ… Ñ‚ĞµĞ¼

Ğ—Ğ°Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ñ‚Ğ¾Ñ‡Ğ½ĞµĞµ â€” Ğ´Ğ°Ğ¼ Ñ€Ğ°Ğ·Ğ²Ñ‘Ñ€Ğ½ÑƒÑ‚Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚! ğŸš€"""

def process_english_query(query: str, query_lower: str) -> str:
    if any(word in query_lower for word in ['hello', 'hi', 'hey']):
        return "Hello! ğŸ‘‹ I'm NeuroPulse â€” your smart AI assistant!\n\n**I can help with:**\nâœ… Solving problems (math, physics, chemistry)\nâœ… Writing texts (essays, papers)\nâœ… Explaining complex topics\nâœ… Language learning and translations\nâœ… Programming\nâœ… Any other questions!\n\nAsk away â€” I'll give detailed answers! ğŸš€"
    
    if 'sport' in query_lower:
        return "**Sport is physical activity and competition for body and mind development.**\n\nAsk a specific question about sports (types, benefits, training), and I'll give a detailed answer! ğŸƒâ€â™‚ï¸"
    
    return f"""**Interesting question!**

You asked: "{query}"

To give the best answer, clarify:
- Which aspect interests you?
- What's the purpose (study, work, curiosity)?
- Need a solution, explanation, or text?

I help with:
ğŸ“ Studies (math, physics, chemistry, languages)
ğŸ“ Writing (essays, papers)
ğŸ’» Programming (code, algorithms)
ğŸ“Š Tables and lists
ğŸ§  Explaining any topic

Ask more specifically â€” I'll give a detailed answer! ğŸš€"""
